<head>
	<title>ws2016</title>
</head>

<template name="Home">
	<div class="vertical-center text-center" style="width: 100%;">
		<div>
			<img id="logo" src="search.png"/>
		</div>
		<div class="text-center">
			<span style="font-size: 32px;">Mini Music</span>
		</div>
		<div class="container-fluid" style="padding-left: 20%; padding-right: 20%;">
			{{> Search}}
		</div>
	</div>
</template>

<template name="Results">
	<div class="top-bar container-fluid">
		{{> Search}}
	</div>

	{{#if loading}}
		<div class="container-fluid" style="padding-top: 15px;">
			<span style="font-size: 18px;">Loading..</span>
		</div>
	{{else}}
		<div class="info-div">
			<div class="container-fluid">
				<span style="font-size: 12px;" class="pull-right">{{getNumberOfResults}}</span>
			</div>
			<div class="container-fluid">
				<span style="font-size: 18px;">{{getResultsLabel}}</span>
			</div>
			<br>
			<div class="container-fluid">
				<!-- Results table -->
				<table class="table table-hover">
					{{#if isSearchType "artist"}}
						{{> ArtistsTable results=getResults full=true }}
					{{/if}}

					{{#if isSearchType "record"}}
						{{> RecordsTable results=getResults full=true }}
					{{/if}}

					{{#if isSearchType "track"}}
						{{> TracksTable results=getResults full=true }}
					{{/if}}
				</table>
			</div>
		</div>
	{{/if}}
</template>

<template name="Artist">
	<div class="top-bar container-fluid">
		{{> Search}}
	</div>

	{{#if loading}}
		<div class="container-fluid" style="padding-top: 15px;">
			<span style="font-size: 18px;">Loading..</span>
		</div>
	{{else}}
		<div class="info-div">
			<div class="pull-left content-div">
				<div class="container-fluid">
					<img src={{getArtist.img}} class="img-rounded pull-left" style="margin-right: 10px;
						width: 150px; height: 150px;"> <!-- Fixed width and height -->
					<div class="pull-left">
						<span style="font-size: 18px;"><b>{{getArtist.name}}</b>,</span>
						<span style="font-size: 16px;"> {{getArtist.area}}</span><br>
						<span style="font-size: 14px;">
							<a href={{getArtist.homepage}}>{{getArtist.homepage}}</a>
						</span>
					</div>
				</div>
				<br>
				<div class="container-fluid">
					<span style="font-size: 18px;">Biography</span><br>
					<span style="font-size: 14px;">{{getArtist.biography}}</span>
				</div>
				<br>
				<div class="container-fluid">
					<span style="font-size: 18px;">Discography</span><br>
					<table class="table table-hover table-condensed">
						{{> RecordsTable results=getArtist.records full=false }}
					</table>
				</div>
			</div>
			<div class="pull-left recommendation-div">
				{{> Recommendation classType="Artists"}}
			</div>
		</div>
	{{/if}}
</template>

<template name="Record">
	<div class="top-bar container-fluid">
		{{> Search}}
	</div>

	{{#if loading}}
		<div class="container-fluid" style="padding-top: 15px;">
			<span style="font-size: 18px;">Loading..</span>
		</div>
	{{else}}
		<div class="info-div">
			<div class="pull-left content-div">
				<div class="container-fluid">
					<img src={{getRecord.img}} class="img-rounded pull-left" style="margin-right: 10px;
						width: 150px; height: 150px;"> <!-- Fixed width and height -->
					<div class="pull-left">
						<span style="font-size: 18px;"><b>{{getRecord.title}}, </b></span>
						<span style="font-size: 16px;">
							<a href="/artist/{{getRecord.artist_id}}">{{getRecord.artist}}</a>
						</span><br>
						<span style="font-size: 14px;">{{getRecord.ntracks}} Tracks</span>
					</div>
				</div>
				<br>
				<div class="container-fluid">
					<span style="font-size: 18px;">Description</span><br>
					<span style="font-size: 14px;">{{getRecord.description}}</span>
				</div>
				<br>
				<div class="container-fluid">
					<span style="font-size: 18px;">Tags</span><br>
					{{#each getRecord.tags}}
						<a href="/results?keyword={{this}}&type=tag">{{this}}</a>
					{{/each}}
				</div>
				<br>
				<div class="container-fluid">
					<span style="font-size: 18px;">Tracks</span><br>
					<table class="table table-hover table-condensed">
						{{> TracksTable results=getRecord.tracks full=false }}
					</table>
				</div>
			</div>
			<div class="pull-left recommendation-div">
				{{> Recommendation classType="Records"}}
			</div>
		</div>
	{{/if}}
</template>

<template name="Track">
	<div class="top-bar container-fluid">
		{{> Search}}
	</div>

	{{#if loading}}
		<div class="container-fluid" style="padding-top: 15px;">
			<span style="font-size: 18px;">Loading..</span>
		</div>
	{{else}}
		<div class="info-div">
			<div class="pull-left content-div">
				<div class="container-fluid">
					<span style="font-size: 18px;"><b>{{getTrack.title}}</b>, </span>
					<span style="font-size: 16px;"><a href="/record/{{getTrack.record_id}}">{{getTrack.record}}</a></span><br>
					<span style="font-size: 14px;"><a href="/artist/{{getTrack.artist_id}}">{{getTrack.artist}}</a></span>
				</div>
				<br>
				<div class="container-fluid">
					<span style="font-size: 18px;">Lyrics</span><br>
					<span style="font-size: 14px;">{{getTrack.lyrics}}</span>
				</div>
				<br>
				<div class="container-fluid">
					<span style="font-size: 18px;">License</span><br>
					<span style="font-size: 14px;"><a href={{getTrack.license}}>{{getTrack.license}}</a></span>
				</div>
			</div>
			<div class="pull-left recommendation-div">
				{{> Recommendation classType="Tracks"}}
			</div>
		</div>
	{{/if}}
</template>

<template name="Recommendation">
	<div class="container-fluid">
		<div style="margin-bottom: 5px;">
			<span style="font-size: 14px;">Recommended {{classType}}</span>
		</div>
		<div class="list-group">
			<a href="#" class="list-group-item">First item</a>
			<a href="#" class="list-group-item">Second item</a>
			<a href="#" class="list-group-item">Third item</a>
		</div>
	</div>
</template>

<template name="Search">
	<div id="top-bar-inner">
		<div class="pull-left" style="height: 100%; width: 10%;">
			<select id="search-type" class="form-control" style="height: 100%;">
				<option value="artist">Artist</option>
				<option value="record">Record</option>
				<option value="track">Track</option>
				<option value="genre">Genre</option>
				<option value="tag">Tag</option>
			</select>
		</div>
		<div class="pull-left" style="height: 100%; width: 90%; padding-left: 10px;">
			<input id="search-input" type="text" class="form-control" style="height: 100%;">
		</div>
	</div>
</template>

<template name="ArtistsTable">
	<thead>
		<tr>
			<th>Name</th>
			<th>Homepage</th>
			<th>Number of Records</th>
			<th>Area</th>
		</tr>
	</thead>
	<tbody>
		{{#each results}}
			<tr>
				<td><a href="/artist/{{artist_id}}">{{name}}</a></td>
				<td><a href={{homepage}}>{{homepage}}</a></td>
				<td>{{nrecords}}</td>
				<td>{{area}}</td>
			</tr>
		{{/each}}
	</tbody>
</template>

<template name="RecordsTable">
	<thead>
		<tr>
			<th>Title</th>
			{{#if full}}
			<th>Artist</th>
			{{/if}}
			<th>Type</th>
			<th>Tracks</th>
			<th>Tags</th>
		</tr>
	</thead>
	<tbody>
		{{#each results}}
			<tr>
				<td><a href="/record/{{record_id}}">{{title}}</a></td>
				{{#if ../full}}
				<td><a href="/artist/{{artist_id}}">{{artist}}</a></td>
				{{/if}}
				<td>{{type}}</td>
				<td>{{ntracks}}</td>
				<td>
					{{#each tags}}
						<a href="/results?keyword={{this}}&type=tag">{{this}}</a>
					{{/each}}
				</td>
			</tr>
		{{/each}}
	</tbody>
</template>

<template name="TracksTable">
	<thead>
		<tr>
			<th>Title</th>
			<th>Artist</th>
			{{#if full}}
			<th>Record</th>
			{{/if}}
			<th>Track Number</th>
			<th>License</th>
		</tr>
	</thead>
	<tbody>
		{{#each results}}
			<tr>
				<td><a href="/track/{{track_id}}">{{title}}</a></td>
				<td><a href="/artist/{{artist_id}}">{{artist}}</a></td>
				{{#if ../full}}
				<td><a href="/record/{{record_id}}">{{record}}</a></td>
				{{/if}}
				<td>{{number}}</td>
				<td><a href={{license}}>{{license}}</a></td>
			</tr>
		{{/each}}
	</tbody>
</template>

<template name="Page404">
	<div class="vertical-center text-center" style="width: 100%;">
		<span style="font-size: 128px; color: #2f4f4f">404</span><br>
		<span style="font-size: 18px; color: #2f4f4f">Page not found!</span>
	</div>
</template>
